# 자료구조 - map 동작원리 </br>

### map 의 특성?</br>

- `key` 와 `value` 의 쌍을 특별한 순서로 저장하고 있는 연관 컨테이너(associative container)</br>
- 검색, 삽입, 삭제가 O(logn)인 `red - black tree` 로 구현되어있고, `key` 를 통해 `value` 에 접근할 수 있다.</br>
- key 는 사용자가 직접 정의, 중복을 허용하지 않는다.</br></br>

### map 의 구성</br>

- **생성자**</br>
    기본 생성자, 복사 생성자가 있고, 비교자 클래스를 사용해 정렬 방법 결정할 수 있다.</br>
    기본적으로 저장할 때 key 를 기준으로 오름차순 자동 정렬한다.</br>

    | 생성자 | 사용법 |
    |:---:|:---:|
    | 기본 생성자 | map<`자료형`, `자료형`> `변수` |
    | 복사 생성자 | map<`자료형`, `자료형`> `변수` ( `같은 자료형의 변수` ) |
    | 대입 연산자 | `변수`[ `key` ] = `변수` |
</br>

- **반복자** (iterator)</br>
    iterator, [ ] 로 접근 가능하며, ++, -- 연산도 가능하다.</br>

    | 반복자 | 결과 |
    |:---:|:---:|
    | `m`.begin() | `m` 의 시작이 되는 주소값 반환 |
    | `m`.end() | `m` 의 마지막 뒤 공백구간 주소 값 반환 |
</br>

- **용량** (Capacity)</br>
    | 용량 | 결과 |
    |:---:|:---:|
    | `m`.empty() | 비어있으면 `true`, 아니면 `false` |
    | `m`.size() | 저장되어 있는 크기 |
    | `m`.max_size() | 가질 수 있는 최대 크기 |
</br>

- **요소 접근** (Access)</br>
    | 접근 | 결과 |
    |:---:|:---:|
    | `m`[ `key값` ] | `key값` 에 대한 요소 접근(범위 검사 X) |
    | `m`.at( `key값` ) | `key값` 에 대한 요소 접근(범위 검사 O) |
</br>

- **삽입, 삭제** (Moodifiers)</br>
    | 삽입, 삭제 | 결과 |
    |:---:|:---:|
    | `m`.insert() | `m` 에 값 삽입 |
    | `m`.erase() | `m` 에 저장된 요소 삭제 |
    | `m1`.swap( `m2` ) | `m1` 과 `m2` 를 서로 교환 |
    | `m`.clear() | `m` 의 요소들 전부 삭제 |
    | `m`.emplace() | move()를 사용해 객체를 저장 |

    clear() 는 map의 데이터를 전부 지워주지만 capacity()는 그대로 남아 있다.</br>
    emplace() 는 내부에서 생산자를 호출해 pair<> 없이 데이터를 직접 삽입이 가능하다.</br></br>


- **기능** (Operations)</br>
    | 기능 | 결과 |
    |:---:|:---:|
    | `m`.find( `key값` ) | `key값` 의 위치를 찾은 후 반환 |
    | `m`.count( `key값` ) | 해당 `key값` 에 있는 변수 갯수를 반환(있다면 무조건 1 반환)|
    | `m`.lower_bound( `key값` ) | `m` 의 원하는 `key값` 의 iterator를 반환 |
    | `m`.upper_bound( `key값` ) | `m` 의 원하는 `key값` 의 iterator를 반환 |
    | `m`.equal_range( `key값` ) | pair형태로 반환되며 지정한 곳을 기준으로 다음 값 까지 기억 가능 | 